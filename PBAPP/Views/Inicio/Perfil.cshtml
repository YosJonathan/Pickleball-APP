@using PBAPP.Herramientas
@using PBAPP.Modelos
@using PBAPP.Modelos.ClubsTodos
@using PBAPP.Modelos.HistorialPartidos
@using PBAPP.Modelos.Perfil
@using PBAPP.Modelos.RatingUsuario
@using PBAPP.Modelos.SeguidoresUsuario
@using System.Text.Json
@{
    PerilUsuarioExterno? infoPefil = this.ViewData["infoPerfil"] as PerilUsuarioExterno;
    EstadisticasUsuarioCalculado? estadisticasUsuario = this.ViewData["estadisticasCalculadas"] as EstadisticasUsuarioCalculado;
    SeguidoresUsuarioResponse? seguidoresUsuario = this.ViewData["seguidoresUsuario"] as SeguidoresUsuarioResponse;
    List<RatingPorFecha>? ratingPorFechas = this.ViewData["RatingPorMes"] as List<RatingPorFecha>;
    List<HistorialPorMapa>? puntos = this.ViewData["HistorialLugaresPartidos"] as List<HistorialPorMapa>;
    HistorialPartidosResponse? historialPartidos = this.ViewData["HistorialPartidos"] as HistorialPartidosResponse;


    var fechas = ratingPorFechas?.Select(x => x.Fecha.ToString("yyyy-MM-dd")) ?? new List<string>();
    var singles = ratingPorFechas?.Select(x => x.Singles) ?? new List<double>();
    var doubles = ratingPorFechas?.Select(x => x.Doubles) ?? new List<double>();
}

@if (infoPefil == null || estadisticasUsuario == null || seguidoresUsuario == null || ratingPorFechas == null || puntos == null)
{
    <p>Problemas al cargar la info</p>
    return;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Webcrumbs Plugin</title>
    <style>
        @@import url(https://fonts.googleapis.com/css2?family=Lato&display=swap);
        @@import url(https://fonts.googleapis.com/css2?family=Open+Sans&display=swap);
        @@import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200);
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.tailwindcss.min.css">

</head>
<body>
    <nav class="sticky top-0 bg-gray-900 shadow-lg z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <img class="h-10 w-10" src="https://images.unsplash.com/photo-1622279457486-62dcc4a431d6?w=100" alt="Pickleball Logo" />
                    </div>
                </div>

                <!-- Botón hamburguesa (solo visible en móviles) -->
                <div class="md:hidden">
                    <button onclick="toggleMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-gray-100 hover:bg-gray-700 focus:outline-none focus:ring-offset-2 focus:ring-white">
                        <span class="material-symbols-outlined">
                            apps
                        </span>
                    </button>
                </div>

                <!-- Menú principal (solo visible en escritorio) -->
                <div class="hidden md:flex ml-10 items-baseline space-x-4">
                    <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 flex items-center">
                        <span class="material-symbols-outlined">equalizer</span>
                        <span class="ml-1">Dashboard</span>
                    </a>
                    <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 flex items-center">
                        <span class="material-symbols-outlined">account_circle</span>
                        <span class="ml-1">Usuario</span>
                    </a>
                    <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 flex items-center">
                        <span class="material-symbols-outlined">calendar_today</span>
                        <span class="ml-1">Reservaciones</span>
                    </a>
                    <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 px-3 py-2 rounded-md text-sm font-medium transition-all duration-300 flex items-center">
                        <span class="material-symbols-outlined">map_search</span>
                        <span class="ml-1">Mapa</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Menú móvil -->
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 block px-3 py-2 rounded-md text-base font-medium">
                    <i class="fas fa-chart-line mr-2"></i> Dashboard
                </a>
                <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 block px-3 py-2 rounded-md text-base font-medium">
                    <i class="fas fa-user mr-2"></i> Usuario
                </a>
                <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 block px-3 py-2 rounded-md text-base font-medium">
                    <i class="fas fa-calendar-alt mr-2"></i> Reservaciones
                </a>
                <a href="#" class="text-gray-100 hover:bg-gray-700 hover:text-green-500 block px-3 py-2 rounded-md text-base font-medium">
                    <i class="fas fa-map-marker-alt mr-2"></i> Mapa
                </a>
            </div>
        </div>
    </nav>


    <div id="webcrumbs">
        <div class="w-full bg-gray-900 min-h-screen p-4 sm:p-6">
            <div class="flex flex-col gap-4">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 max-w-7xl mx-auto">

                    <div class="col-span-1 md:col-span-2 lg:col-span-3 bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-700">
                        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
                            <div class="flex items-center space-x-4">
                                <div class="w-14 h-14 sm:w-16 sm:h-16 bg-primary-500 rounded-full flex items-center justify-center">
                                    @if (string.IsNullOrEmpty(infoPefil?.Result.ImageUrl))
                                    {
                                        <span class="text-xl sm:text-2xl font-bold text-white">
                                            @infoPefil?.Result.FullName.Substring(0, 2).ToUpper()
                                        </span>
                                    }
                                    else
                                    {
                                        <img class="rounded-full flex items-center" src="@infoPefil?.Result.ImageUrl" loading="lazy" />
                                    }
                                </div>
                                <div>
                                    <h1 class="text-xl sm:text-2xl font-bold text-white">
                                        @infoPefil?.Result.FullName (@infoPefil?.Result.Age)
                                        <span class="material-symbols-outlined mr-2">@infoPefil?.Result.Gender.ToLower()</span>
                                        <span class="inline-flex items-center justify-center w-4 h-4 bg-blue-500 rounded-full text-white text-[10px] ml-1">
                                            ✓
                                        </span>
                                    </h1>
                                    <p class="text-gray-400">
                                        @infoPefil?.Result.ShortAddress <br />
                                        <b>@seguidoresUsuario?.Result.Followings</b> Seguidos
                                        <b>@seguidoresUsuario?.Result.Followers</b> Seguidores
                                        <a href="#" class="text-yellow-200">
                                            <span style="font-size:16px;" class="material-symbols-outlined">
                                                trophy
                                            </span> Logros
                                        </a>
                                    </p>

                                    <div class="flex items-center space-x-1">
                                        <span id="codigo" class="text-white font-mono bg-gray-700 px-3 py-1 rounded">@infoPefil?.Result.DuprId</span>

                                        <!-- Botón con ícono de copiar -->
                                        <button onclick="copiarCodigo()" class="text-gray-400 hover:text-white">
                                            <span class="material-symbols-outlined mr-2">copy_all</span>
                                        </button>

                                        <!-- Badge de copiado (oculto por defecto) -->
                                        <div id="badge-copiado" class="absolute-top-6 left-1/2-translate-x-1/2 bg-green-500 text-white text-xs font-semibold px-2 py-1 rounded-lg shadow transition-opacity duration-300 opacity-0 pointer-events-none">
                                            Texto copiado
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text-left sm:text-right mt-2 sm:mt-0">
                                <div class="text-3xl sm:text-4xl font-bold text-primary-400">@infoPefil?.Result.Ratings.Singles / @infoPefil?.Result.Ratings.Doubles</div>
                                <p class="text-gray-400">Singles / Doubles</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-700">
                        <h2 class="text-lg sm:text-xl font-semibold text-white mb-4 flex items-center">
                            <span class="material-symbols-outlined mr-2">landscape</span> Estadísticas (Singles / Doubles)
                        </h2>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400">Partidos Jugados</span>
                                <span class="text-white font-semibold">
                                    @(estadisticasUsuario.Result.Singles.Wins +
                                        estadisticasUsuario.Result.Singles.Losses + estadisticasUsuario.Result.Doubles.Wins +
                                        estadisticasUsuario.Result.Doubles.Losses)
                                </span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400">Victorias</span>
                                <span class="text-green-400 font-semibold">
                                    @estadisticasUsuario.Result.Singles.Wins / @estadisticasUsuario.Result.Doubles.Wins
                                </span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400">Derrotas</span>
                                <span class="text-red-400 font-semibold">
                                    @estadisticasUsuario.Result.Singles.Losses / @estadisticasUsuario.Result.Doubles.Losses
                                </span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400">Win Rate</span>
                                <span class="text-primary-400 font-semibold">
                                    @estadisticasUsuario.Result.Singles.AveragePointsWonPercent / @estadisticasUsuario.Result.Doubles.AveragePointsWonPercent
                                </span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-primary-500 h-2 rounded-full"
                                     style="width: @Porcentajes.RedondearPorcentaje(estadisticasUsuario.Result.Singles.AveragePointsWonPercent);"></div>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-primary-500 h-2 rounded-full"
                                     style="width: @Porcentajes.RedondearPorcentaje(estadisticasUsuario.Result.Doubles.AveragePointsWonPercent);"></div>
                            </div>
                        </div>
                    </div>


                    @* Grafica de Ranking *@
                    <div class="col-span-1 md:col-span-1 lg:col-span-2 bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-700">
                        <h2 class="text-lg sm:text-xl font-semibold text-white mb-4 flex items-center">
                            <span class="material-symbols-outlined mr-2">trending_up</span> Ranking  @Fechas.ObtenerNombreMes(DateTime.Now)
                        </h2>
                        <div class="h-48 sm:h-64 rounded-lg p-4">
                            <canvas id="graficoRating" class="w-full h-64 bg-transparent"></canvas>
                        </div>
                    </div>

                    @* Ultimos 4 partidos *@
                    <div class="col-span-1 md:col-span-2 lg:col-span-3 bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-700">
                        <h2 class="text-lg sm:text-xl font-semibold text-white mb-4 flex items-center">
                            <span class="material-symbols-outlined mr-2">
                                sports_tennis
                            </span> Ultimos 4 partidos
                        </h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-4 gap-4">
                            @if (historialPartidos?.Result.Hits != null)
                            {
                                int conteo = 0;
                                @foreach (var item in historialPartidos.Result.Hits)
                                {
                                    if (conteo < 4)
                                    {
                                        <div style="min-width:280px;" class="text-white rounded-xl shadow-md overflow-hidden">
                                            <div class="p-6">
                                                <div class="flex justify-between items-center mb-4">
                                                    <h2 class="text-xl text-white font-bold text-gray-800">Match</h2>
                                                    <span class="px-3 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800">@item.EventFormat</span>
                                                </div>

                                                <div class="flex flex-col md:flex-row justify-between gap-4">
                                                    @if (item?.Teams[0] != null)
                                                    {
                                                        <!-- Team 1 -->
                                                        <div class="flex flex-col items-center text-center">
                                                            <div class="flex -space-x-3">
                                                                @if (item?.Teams[0].Player1 != null)
                                                                {
                                                                    <div class="w-12 h-12 rounded-full bg-gray-200 ring-2 ring-gray-800 overflow-hidden z-20">
                                                                        <img src="@Estilos.ObtenerImagen(item.Teams[0].Player1.ImageUrl)" title="@item.Teams[0].Player1.FullName" class="w-full h-full object-cover" />
                                                                    </div>
                                                                }
                                                                @if (item?.Teams[0].Player2 != null)
                                                                {
                                                                    <div class="w-12 h-12 rounded-full bg-gray-200 ring-2 ring-gray-800 overflow-hidden z-10">
                                                                        <img src="@Estilos.ObtenerImagen(item.Teams[0].Player2.ImageUrl)" title="@item.Teams[0].Player2.FullName" class="w-full h-full object-cover" />
                                                                    </div>
                                                                }
                                                            </div>
                                                            <h3 class="font-bold mt-2">@Html.Raw(CodigoHTML.ObtenerNombres(@item?.Teams[0].Player1.FullName, @item?.Teams[0].Player2.FullName, Url.Action("Perfil", new { perfil = item?.Teams[0].Player1.Id }), Url.Action("Perfil", new { perfil = item?.Teams[0].Player2.Id })))</h3>
                                                            <div class="flex space-x-2 mt-1">
                                                                @if (item?.Teams[0].Player1 != null)
                                                                {
                                                                    <div class="px-2 py-1 text-xs font-semibold rounded-full">@Html.Raw(CodigoHTML.RetornarEtiquetaRating(item.Teams[0].PrePartidos.RatingImpatcPlayer1, item.Teams[0].PrePartidos.RatingPlayer1, item.Teams[0].Player1.PostMatchRating, @item.EventFormat))</div>
                                                                }
                                                                @if (item?.Teams[0].Player2 != null)
                                                                {
                                                                    <div class="px-2 py-1 text-xs font-semibold rounded-full">@Html.Raw(CodigoHTML.RetornarEtiquetaRating(item.Teams[0].PrePartidos.RatingImpatcPlayer2, item.Teams[0].PrePartidos.RatingPlayer2, item.Teams[0].Player2.PostMatchRating, @item.EventFormat))</div>
                                                                }
                                                            </div>
                                                        </div>
                                                    }

                                                    <!-- Score -->
                                                    <div class="flex items-center justify-center">
                                                        <div class="text-2xl font-bold">
                                                            <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams)">@item?.Teams[0].Game1</p> - <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams,1,false)">@item?.Teams[1].Game1</p>

                                                            @if (@item?.Teams[0].Game2 != -1)
                                                            {
                                                                <br /> <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams,2)">@item?.Teams[0].Game2</p> @:- <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams, 2, false)">@item?.Teams[1].Game2</p>
                                                            }

                                                            @if (@item?.Teams[0].Game3 != -1)
                                                            {
                                                                <br /> <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams,3)">@item?.Teams[0].Game3</p> @:- <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams, 3, false)">@item?.Teams[1].Game3</p>
                                                            }

                                                            @if (@item?.Teams[0].Game4 != -1)
                                                            {
                                                                <br /> <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams,4)">@item?.Teams[0].Game4</p> @:- <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams, 4, false)">@item?.Teams[1].Game4</p>
                                                            }

                                                            @if (@item?.Teams[0].Game5 != -1)
                                                            {
                                                                <br /> <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams,5)">@item?.Teams[0].Game5</p> @:- <p class="@Estilos.ObtenerColorEtiqueta(item?.Teams, 5, false)">@item?.Teams[1].Game5</p>
                                                            }
                                                        </div>
                                                    </div>

                                                    @if (item?.Teams[1] != null)
                                                    {
                                                        <!-- Team 2 -->
                                                        <div class="flex flex-col items-center text-center">
                                                            <div class="flex -space-x-3">
                                                                @if (item?.Teams[1].Player1 != null)
                                                                {
                                                                    <div class="w-12 h-12 rounded-full bg-gray-200 ring-2 ring-gray-800 overflow-hidden z-20">
                                                                        <img src="@Estilos.ObtenerImagen(item.Teams[1].Player1.ImageUrl)" title="@item.Teams[1].Player1.FullName" class="w-full h-full object-cover" />
                                                                    </div>
                                                                }
                                                                @if (item?.Teams[1].Player2 != null)
                                                                {
                                                                    <div class="w-12 h-12 rounded-full bg-gray-200 ring-2 ring-gray-800 overflow-hidden z-10">
                                                                        <img src="@Estilos.ObtenerImagen(item.Teams[1].Player2.ImageUrl)" title="@item.Teams[1].Player2.FullName" class="w-full h-full object-cover" />
                                                                    </div>
                                                                }
                                                            </div>
                                                            <h3 class="font-bold mt-2">
                                                                @Html.Raw(CodigoHTML.ObtenerNombres(@item?.Teams[1].Player1.FullName, @item?.Teams[1].Player2.FullName, Url.Action("Perfil", new { perfil = item?.Teams[1].Player1.Id }), Url.Action("Perfil", new { perfil = item?.Teams[1].Player2.Id })))
                                                            </h3>
                                                            <div class="flex space-x-2 mt-1">
                                                                @if (item?.Teams[1].Player1 != null)
                                                                {
                                                                    <div class="px-2 py-1 text-xs font-semibold rounded-full">@Html.Raw(CodigoHTML.RetornarEtiquetaRating(item.Teams[1].PrePartidos.RatingImpatcPlayer1, item.Teams[1].PrePartidos.RatingPlayer1, item.Teams[1].Player1.PostMatchRating, @item.EventFormat))</div>
                                                                }
                                                                @if (item?.Teams[1].Player2 != null)
                                                                {
                                                                    <div class="px-2 py-1 text-xs font-semibold rounded-full">@Html.Raw(CodigoHTML.RetornarEtiquetaRating(item.Teams[1].PrePartidos.RatingImpatcPlayer2, item.Teams[1].PrePartidos.RatingPlayer2, item.Teams[1].Player2.PostMatchRating, @item.EventFormat))</div>
                                                                }
                                                            </div>
                                                        </div>
                                                    }
                                                </div>

                                                <div class="border-t border-gray-200 my-4"></div>

                                                <div class="flex flex-col sm:flex-row text-sm">
                                                    <div class="flex items-center">
                                                        <span class="material-symbols-outlined">
                                                            distance
                                                        </span>
                                                        <span>@item?.Location</span>
                                                    </div>
                                                </div>
                                                <div class="flex flex-col sm:flex-row text-sm">
                                                    <div class="flex items-center mt-2 sm:mt-0">
                                                        <span class="material-symbols-outlined mr-1">
                                                            event
                                                        </span>
                                                        <span>@item?.League</span>
                                                    </div>
                                                </div>
                                                <div class="flex flex-col sm:flex-row text-sm">
                                                    <span class="material-symbols-outlined mr-1">
                                                        calendar_today
                                                    </span>
                                                    <span>@Fechas.ObtenerFechaTexto(item?.Created)</span>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    conteo++;
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- jQuery + DataTables JS -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

    <script>
        tailwind.config = {
            content: ["./src/**/*.{html,js}"],
            theme: {
                name: "Custom",
                fontFamily: {
                    sans: [
                        "Open Sans",
                        "ui-sans-serif",
                        "system-ui",
                        "sans-serif",
                        '"Apple Color Emoji"',
                        '"Segoe UI Emoji"',
                        '"Segoe UI Symbol"',
                        '"Noto Color Emoji"'
                    ]
                },
                extend: {
                    fontFamily: {
                        title: [
                            "Lato",
                            "ui-sans-serif",
                            "system-ui",
                            "sans-serif",
                            '"Apple Color Emoji"',
                            '"Segoe UI Emoji"',
                            '"Segoe UI Symbol"',
                            '"Noto Color Emoji"'
                        ],
                        body: [
                            "Open Sans",
                            "ui-sans-serif",
                            "system-ui",
                            "sans-serif",
                            '"Apple Color Emoji"',
                            '"Segoe UI Emoji"',
                            '"Segoe UI Symbol"',
                            '"Noto Color Emoji"'
                        ]
                    },
                    colors: {
                        neutral: {
                            50: "#f7f7f7",
                            100: "#eeeeee",
                            200: "#e0e0e0",
                            300: "#cacaca",
                            400: "#b1b1b1",
                            500: "#999999",
                            600: "#7f7f7f",
                            700: "#676767",
                            800: "#545454",
                            900: "#464646",
                            950: "#282828"
                        },
                        primary: {
                            50: "#f3f1ff",
                            100: "#e9e5ff",
                            200: "#d5cfff",
                            300: "#b7a9ff",
                            400: "#9478ff",
                            500: "#7341ff",
                            600: "#631bff",
                            700: "#611bf8",
                            800: "#4607d0",
                            900: "#3c08aa",
                            950: "#220174",
                            DEFAULT: "#611bf8"
                        }
                    }
                },
                fontSize: {
                    xs: ["12px", {lineHeight: "19.200000000000003px"}],
                    sm: ["14px", {lineHeight: "21px"}],
                    base: ["16px", {lineHeight: "25.6px"}],
                    lg: ["18px", {lineHeight: "27px"}],
                    xl: ["20px", {lineHeight: "28px"}],
                    "2xl": ["24px", {lineHeight: "31.200000000000003px"}],
                    "3xl": ["30px", {lineHeight: "36px"}],
                    "4xl": ["36px", {lineHeight: "41.4px"}],
                    "5xl": ["48px", {lineHeight: "52.800000000000004px"}],
                    "6xl": ["60px", {lineHeight: "66px"}],
                    "7xl": ["72px", {lineHeight: "75.60000000000001px"}],
                    "8xl": ["96px", {lineHeight: "100.80000000000001px"}],
                    "9xl": ["128px", {lineHeight: "134.4px"}]
                },
                borderRadius: {
                    none: "0px",
                    sm: "6px",
                    DEFAULT: "12px",
                    md: "18px",
                    lg: "24px",
                    xl: "36px",
                    "2xl": "48px",
                    "3xl": "72px",
                    full: "9999px"
                },
                spacing: {
                    0: "0px",
                    1: "4px",
                    2: "8px",
                    3: "12px",
                    4: "16px",
                    5: "20px",
                    6: "24px",
                    7: "28px",
                    8: "32px",
                    9: "36px",
                    10: "40px",
                    11: "44px",
                    12: "48px",
                    14: "56px",
                    16: "64px",
                    20: "80px",
                    24: "96px",
                    28: "112px",
                    32: "128px",
                    36: "144px",
                    40: "160px",
                    44: "176px",
                    48: "192px",
                    52: "208px",
                    56: "224px",
                    60: "240px",
                    64: "256px",
                    72: "288px",
                    80: "320px",
                    96: "384px",
                    px: "1px",
                    0.5: "2px",
                    1.5: "6px",
                    2.5: "10px",
                    3.5: "14px"
                }
            },
            plugins: [],
            important: "#webcrumbs"
        }
            function copiarCodigo() {

        const badge = document.getElementById("badge-copiado");
            const codigo = document.getElementById("codigo").innerText;
            navigator.clipboard.writeText(codigo).then(() => {
            // Mostrar badge
            badge.classList.remove("opacity-0");
            badge.classList.add("opacity-100");

            // Ocultar después de 2 segundos
            setTimeout(() => {
                badge.classList.remove("opacity-100");
                badge.classList.add("opacity-0");
            }, 2000);
        }).catch(err => {
            console.error("Error al copiar:", err);
        });
        }
    </script>
    <script>
        const labels = @Html.Raw(JsonSerializer.Serialize(fechas));
        const singlesData = @Html.Raw(JsonSerializer.Serialize(singles));
        const doublesData = @Html.Raw(JsonSerializer.Serialize(doubles));

        const ctx = document.getElementById('graficoRating').getContext('2d');

        const lineChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [
                    {
                        label: 'Singles',
                        data: singlesData,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        tension: 0.4,
                    },
                    {
                        label: 'Doubles',
                        data: doublesData,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        tension: 0.4,
                    }
                ]
            },
            options: {
                backgroundColor: 'transparent',
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#ffffff'
                        }
                    }
                },
                scales: {
                    x: {
                        ticks: {
                            color: '#ffffff'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    },
                    y: {
                        ticks: {
                            color: '#ffffff'
                        },
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)'
                        }
                    }
                }
            }
        });
    </script>

    <script>
        function toggleMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }
    </script>
</body>
</html>